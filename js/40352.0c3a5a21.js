"use strict";(self["webpackChunkdoc"]=self["webpackChunkdoc"]||[]).push([[40352,91146,53366],{91146:function(e,t,n){n.r(t),n.d(t,{a:function(){return c},b:function(){return r},c:function(){return s},d:function(){return h},e:function(){return l},f:function(){return a},g:function(){return d},i:function(){return i},n:function(){return o},p:function(){return u}});n(29045);function o(){}var r="undefined"!==typeof window;function i(e){return void 0!==e&&null!==e}function a(e){return"function"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){return s(e)&&a(e.then)&&a(e.catch)}function u(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}var d=function(e,t){var n=[];function o(e){var r=null!=e.children?e.children:e.childNodes;if(r)for(var i=0;i<r.length;i++){var a=r[i];console.log(a.tagName,t,"tagNametagName"),a.tagName===t?(console.log(a,"hujijijij"),n.push(a)):o(a)}}return o(e),n},c=function(e,t){var n=null;function o(e){var r=null!=e.parentElement?e.parentElement:e.parentNode;console.log(r,"parent"),r.tagName===t&&null===n?n=r:o(r)}return o(e),console.log(n,"targetParent"),n},h=function(e,t){if(console.log(e,"el.hasAttribute(prop)"),e.hasAttribute(t))return e.getAttribute(t)}},40352:function(e,t,n){n.r(t),n.d(t,{glue_address_edit:function(){return u}});n(29045);var o=n(83458),r=n(91146),i=n(53366),a=".glue-address-edit{padding:12px}.glue-address-edit__fields{overflow:hidden;border-radius:8px}.glue-address-edit__fields .glue-field__label{width:4.1em}.glue-address-edit__default{margin-top:12px;overflow:hidden;border-radius:8px}.glue-address-edit__buttons{padding:32px 4px}.glue-address-edit__buttons .glue-button{margin-bottom:12px}.glue-address-edit-detail__search-item{background-color:#f2f3f5}.glue-address-edit-detail__keyword{color:#ee0a24}.glue-address-edit-detail__finish{color:#1989fa;font-size:12px}";function s(e){return/^\d{6}$/.test(e)}var l={name:"",tel:"",country:"",province:"",city:"",county:"",areaCode:"",postalCode:"",addressDetail:"",isDefault:!1},u=function(){function e(e){var t=this;(0,o.r)(this,e),this.areaListLoaded=function(){return(0,r.c)(t.areaList)&&Object.keys(t.areaList).length},this.areaText=function(){var e=t.data,n=e.country,o=e.province,r=e.city,i=e.county,a=e.areaCode;if(a){var s=[n,o,r,i];return o&&o===r&&s.splice(1,1),s.filter((function(e){return e})).join("/")}return""},this.hideBottomFields=function(){var e=t.searchResult;return e&&e.length&&t.detailFocused},this.assignAreaValues=function(){},this.onFocus=function(e){t.errorInfo[e]="",t.detailFocused="addressDetail"===e},this.getErrorMessage=function(e){var n=String(t.data[e]||"").trim();if(t.validator){var o=t.validator(e,n);if(o)return o}switch(e){case"name":return n?"":"名字为空";case"tel":return t.telValidator(n)?"":"未知号码";case"areaCode":return n?"":"空区域";case"addressDetail":return n?"":"空地址";case"postalCode":return n&&!t.postalValidator(n)?"控制":""}},this.onSave=function(){var e=["name","tel"];t.showArea&&e.push("areaCode"),t.showDetail&&e.push("addressDetail"),t.showPostal&&e.push("postalCode"),e.every((function(e){var n=t.getErrorMessage(e);return n&&(t.errorInfo[e]=n),!n}))},this.onChangeDetail=function(e){t.data.addressDetail=e},this.onAreaConfirm=function(e){e=e.filter((function(e){return!!e})),e.some((function(e){return!e.code}))||(t.showAreaPopup=!1,t.assignAreaValues())},this.onDelete=function(){},this.getArea=function(){return""},this.setAreaCode=function(e){t.data.areaCode=e||""},this.onDetailBlur=function(){setTimeout((function(){t.detailFocused=!1}))},this.setAddressDetail=function(e){t.data.addressDetail=e},this.renderSetDefaultCell=function(){if(t.showSetDefault){var e={"right-icon":function(){return(0,o.h)("glue-switch",{size:"24",onChange:function(e){console.log(e)}})}};return(0,o.h)("glue-cell",{"v-slots":e,"v-show":!t.hideBottomFields(),center:!0,title:"默认地址",class:"glue-address-edit__default"})}return null},this.areaList=void 0,this.isSaving=void 0,this.isDeleting=void 0,this.validator=void 0,this.showDelete=void 0,this.showPostal=void 0,this.disableArea=void 0,this.searchResult=void 0,this.telMaxlength=void 0,this.showSetDefault=void 0,this.saveButtonText=void 0,this.areaPlaceholder=void 0,this.deleteButtonText=void 0,this.showSearchResult=void 0,this.showArea=!0,this.showDetail=!0,this.detailRows=1,this.detailMaxlength=200,this.addressInfo=Object.assign({},l),this.telValidator=i.i,this.postalValidator=s,this.areaColumnsPlaceholder=[],this.data={},this.showAreaPopup=!1,this.detailFocused=!1,this.errorInfo={tel:"",name:"",areaCode:"",postalCode:"",addressDetail:""}}return e.prototype.render=function(){var e=this,t=this,n=t.data,r=t.errorInfo,i=t.disableArea;return console.log(n),(0,o.h)(o.H,{class:"glue-address-edit"},(0,o.h)("div",{class:"glue-address-edit__fields"},(0,o.h)("glue-field",{clearable:!0,label:"名称",placeholder:"名称提示",errorMessage:r.name,onFocus:function(){return e.onFocus("name")}}),(0,o.h)("glue-field",{clearable:!0,type:"tel",label:"电话",maxlength:this.telMaxlength,placeholder:"电话提示",errorMessage:r.tel,onFocus:function(){return e.onFocus("tel")}}),(0,o.h)("glue-field",{"v-show":this.showArea,readonly:!0,label:"区域",clickable:!i,rightIcon:i?null:"arrow",modelValue:this.areaText(),placeholder:this.areaPlaceholder||"区域提示",errorMessage:r.areaCode,onFocus:function(){return e.onFocus("areaCode")},onClick:function(){e.showAreaPopup=!i}}),this.showPostal&&(0,o.h)("glue-field",{"v-show":!this.hideBottomFields(),type:"tel",maxlength:"6",label:"标题",placeholder:"标题",errorMessage:r.postalCode,onFocus:function(){return e.onFocus("postalCode")}}),(0,o.h)("slot",null)),this.renderSetDefaultCell(),(0,o.h)("div",{"v-show":!this.hideBottomFields(),class:"glue-address-edit__buttons"},(0,o.h)("glue-button",{block:!0,round:!0,loading:this.isSaving,type:"danger",text:this.saveButtonText||"保存",onClick:this.onSave}),this.showDelete&&(0,o.h)("glue-button",{block:!0,round:!0,loading:this.isDeleting,text:this.deleteButtonText||"删除",onClick:this.onDelete})),(0,o.h)("glue-popup",{round:!0,teleport:"body",position:"bottom",lazyRender:!1}))},e}();u.style=a},53366:function(e,t,n){function o(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}n.r(t),n.d(t,{i:function(){return o}})}}]);