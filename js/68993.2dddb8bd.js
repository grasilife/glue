"use strict";(self["webpackChunkdoc"]=self["webpackChunkdoc"]||[]).push([[68993,89605,86236,70847],{68993:function(e,t,n){n.r(t),n.d(t,{glue_list:function(){return a}});n(29045);var r=n(83458),i=n(86236),o=n(70847),l=n(89605),u=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function l(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(l,u)}c((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(e){return function(t){return c([e,t])}}function c(u){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,u[0]&&(l=0)),l)try{if(n=1,r&&(i=2&u[0]?r["return"]:u[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,r=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!(i=i.length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){l=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){l.label=u[1];break}if(6===u[0]&&l.label<i[1]){l.label=i[1],i=u;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(u);break}i[2]&&l.ops.pop(),l.trys.pop();continue}u=t.call(e,l)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},s=".glue-list{display:block}.glue-list__loading,.glue-list__finished-text,.glue-list__error-text{color:#969799;font-size:14px;line-height:50px;text-align:center}.glue-list__placeholder{height:0;pointer-events:none}",a=function(){function e(e){var t=this;(0,r.r)(this,e),this.glueLoad=(0,r.c)(this,"glueLoad",7),this.glueUpdateLoad=(0,r.c)(this,"glueUpdateLoad",7),this.glueUpdateError=(0,r.c)(this,"glueUpdateError",7),this._check=function(){if(console.log(t.root,t.placeholder,"ahgfyaufbabuf"),console.log(t.loading,t.finished,t.error,"this.loading"),!(t.loading||t.finished||t.error)){var e=t,n=e.offset,r=e.direction,u=(0,o.u)(t.el),c=(0,i.u)(u);if(!c.height||(0,l.i)(t.root))return!1;var s=!1,a=(0,i.u)(t.placeholder);console.log(c,a,r,"scrollParentRect"),console.log(a.bottom,c.bottom,a.bottom-c.bottom,"坐标"),s="up"===r?c.top-a.top<=n:a.bottom-c.bottom<=n,console.log(s,"isReachEdge"),s&&(t.loading=!0,t.glueUpdateLoad.emit(t.loading),t.glueLoad.emit())}},this.clickErrorTextHandle=function(){t.error=!1,t.glueUpdateError.emit(t.error),t._check()},this.renderErrorText=function(){if(console.log(t.error,t.loading,"this.error"),t.error){if("#slot"==t.errorText)return(0,r.h)("slot",{name:"error-text"});var e=t.errorText;if(e)return(0,r.h)("div",{class:"glue-list__error-text",onClick:t.clickErrorTextHandle},e)}},this.renderLoading=function(){if(t.loading&&!t.finished)return"#slot"==t.loadingText?(0,r.h)("slot",{name:"loading-text"}):(0,r.h)("div",{class:"glue-list__loading"},(0,r.h)("glue-loading",{size:16,text:t.loadingText}))},this.renderDirection=function(){return"down"===t.direction?(0,r.h)("slot",null):(0,r.h)("div",{ref:function(e){return t.placeholder=e},class:"glue-list__placeholder"})},this.renderFinishedText=function(){if(t.finished){if("#slot"==t.finishedText)return(0,r.h)("slot",{name:"finished-text"});var e=t.finishedText;if(e)return(0,r.h)("div",{class:"glue-list__finished-text"},e)}},this.error=!1,this.loading=!1,this.finished=!1,this.errorText=void 0,this.loadingText="加载中...",this.finishedText=void 0,this.offset=300,this.direction="down",this.immediateCheck=!0}return e.prototype.loadingHandle=function(){this._check()},e.prototype.finishedHandle=function(){this._check()},e.prototype.errorHandle=function(){this._check()},e.prototype.check=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this._check(),[2]}))}))},e.prototype.componentDidLoad=function(){var e=(0,o.u)(this.el);e.addEventListener("scroll",this._check,{passive:!0}),this.immediateCheck&&this._check()},e.prototype.disconnectedCallback=function(){var e=(0,o.u)(this.el);e.removeEventListener("scroll",this._check),this.loading=!this.loading},e.prototype.render=function(){var e=this,t=(0,r.h)("slot",null),n=(0,r.h)("div",{ref:function(t){return e.placeholder=t},class:"glue-list__placeholder"});return(0,r.h)(r.H,{ref:function(t){return e.root=t},role:"feed",class:"glue-list","aria-busy":this.loading},"down"===this.direction?t:n,this.renderLoading(),this.renderFinishedText(),this.renderErrorText(),"up"===this.direction?t:n)},Object.defineProperty(e.prototype,"el",{get:function(){return(0,r.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{loading:["loadingHandle"],finished:["finishedHandle"],error:["errorHandle"]}},enumerable:!1,configurable:!0}),e}();a.style=s},89605:function(e,t,n){function r(e){if(!e)return!1;var t=window.getComputedStyle(e),n="none"===t.display,r=null===e.offsetParent&&"fixed"!==t.position;return n||r}n.r(t),n.d(t,{i:function(){return r}})},86236:function(e,t,n){function r(e){return e===window}n.r(t),n.d(t,{u:function(){return i}});var i=function(e){if(r(e)){var t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}return e&&e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0,right:0,bottom:0,width:0,height:0}}},70847:function(e,t,n){n.r(t),n.d(t,{u:function(){return l}});var r=/scroll|auto/i;function i(e){var t=1;return"HTML"!==e.tagName&&"BODY"!==e.tagName&&e.nodeType===t}function o(e,t){void 0===t&&(t=window);var n=e;while(n&&n!==t&&i(n)){var o=window.getComputedStyle(n).overflowY;if(r.test(o))return n;n=n.parentNode}return t}function l(e,t){void 0===t&&(t=window);var n=o(e,t);return n}}}]);